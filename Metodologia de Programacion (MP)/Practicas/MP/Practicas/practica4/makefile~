SRC = src
INC = include
OBJ = obj
BIN = bin
LIB = lib

CPPFLAGS = -Wall -g -c -I$(INC)

all:$(BIN)/testimagen $(BIN)/testcodificar

$(BIN)/testcodificar : $(OBJ)/testcodificar.o $(OBJ)/codificar.o $(OBJ)/byte.o $(LIB)/libimagen.a
	g++ -o $(BIN)/testcodificar $(OBJ)/testcodificar.o $(OBJ)/codificar.o $(OBJ)/byte.o -L$(LIB) -limagen

$(OBJ)/testcodificar.o : $(SRC)/testcodificar.cpp  $(INC)/imagen.h $(INC)/byte.h $(INC)/codificar.h
	g++ -c -I$(INC) -o $(OBJ)/testcodificar.o $(SRC)/testcodificar.cpp

$(OBJ)/byte.o : $(SRC)/byte.cpp $(INC)/byte.h
	g++ -c -I$(INC) -o $(OBJ)/byte.o $(SRC)/byte.cpp

$(OBJ)/testimagen.o : $(SRC)/testimagen.cpp $(INC)/imagen.h
	g++ -c -I$(INC) -o $(OBJ)/testimagen.o $(SRC)/testimagen.cpp

$(BIN)/testimagen : $(OBJ)/testimagen.o $(LIB)/libimagen.a
	g++ -o $(BIN)/testimagen $(OBJ)/testimagen.o -L$(LIB) -limagen

$(OBJ)/testimagen.o : $(SRC)/testimagen.cpp $(INC)/imagen.h
	g++ -c -I$(INC) -o $(OBJ)/testimagen.o $(SRC)/testimagen.cpp

$(OBJ)/imagen.o : $(SRC)/imagen.cpp $(INC)/imagen.h $(INC)/pgm.h
	g++ -c -I$(INC) -o $(OBJ)/imagen.o $(SRC)/imagen.cpp

$(OBJ)/pgm.o : $(SRC)/pgm.cpp $(INC)/pgm.h
	g++ -c -I$(INC) -o $(OBJ)/pgm.o $(SRC)/pgm.cpp


$(LIB)/libimagen.a : $(OBJ)/imagen.o $(OBJ)/pgm.o
	ar rvs $(LIB)/libimagen.a $(OBJ)/imagen.o $(OBJ)/pgm.o



# ************ documentaci√≥n ******* $(BIN)/esteganografia  

documentacion:
	doxygen doc/doxys/Doxyfile

# ************ Limpieza ************
