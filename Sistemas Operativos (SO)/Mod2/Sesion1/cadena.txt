
#include<sys/types.h>
#include<sys/stat.h>
#include<fcntl.h>
#include<stdio.h>
#include<errno.h>

char buf1[]="abcdefghij";
char buf2[]="ABCDEFGHIJ";
int main(int argc, char *argv[]){
int fde;
int fds;
char cadena[256];


	if(argc==1){		//solo programa (sin argumentos)
		pd=STDIN_FILENO;
	}
	else if(argc==2){
		fde=open(argv[1],O_RDONLY);
	}
	else exit(EXIT_FAILURE);
	
	fds=open("salida.txt",O_CREAT|O_WRONLY,060);
	int i=1;
	int leidos;

	while(leidos=read(fde,buffer,80*sizeof(char))!=0){
		sprintf("cadena","Bloque %d \n",i);
		i++;
		write(fds,cadena,strlen(cadena)*sizeof(char);
		write(fds,buffer,leidos);
	}
}
