<?xml version="1.0" encoding="UTF-8"?>
<aiml version="2.0">




<!--
<category>
    <pattern>NO, ES * </pattern>
    <that>Es *</that>
    <template>
        <!--Guardamos en attact atributos de la fruta que dice el usuario-->
        <think>
            <set var="tamañoact"><map name="ftamaño"><star/></map></set>
            <set var="saboract"><map name="fsabor"><star/></map></set>
            <set var="vitaact"><map name="fvitaminaa"><star/></map></set>
            <set var="vitbact"><map name="fvitaminab"><star/></map></set>
            <set var="vitcact"><map name="fvitaminac"><star/></map></set>
            <set var="numcolact"><map name="numfcolor"><star/></map></set>
        </think>

        <!--Mostramos los atributos attact de la fruta que dice el usuario-->
            <condition var="numcolact">
                <li value="1">
                    <think>
                        <set var="coloract1"><map name="fcolor1"><star/></map></set>
                    </think>

                    La fruta: <star/> y sus caracteristicas son:
                            Su tamaño es: <get var="tamañoact"/>
                            Su sabor es: <get var="saboract"/>
                            <get var="vitaact"/> tiene vitamina A
                            <get var="vitbact"/> tiene vitamina B
                            <get var="vitcact"/> tiene vitamina C
                            Y su color es: <get var="coloract1"/>

                </li>
                <li value="2">
                    <think>
                        <set var="coloract1"><map name="fcolor1"><star/></map></set>
                        <set var="coloract2"><map name="fcolor2"><star/></map></set>
                    </think>

                        La fruta: <star/> y sus caracteristicas son:
                            Su tamaño es: <get var="tamañoact"/>
                            Su sabor es: <get var="saboract"/>
                            <get var="vitaact"/> tiene vitamina A
                            <get var="vitbact"/> tiene vitamina B
                            <get var="vitcact"/> tiene vitamina C
                            Y puede ser de 2 colores: O <get var="coloract1"/> O <get var="coloract2"/>

                </li>
                <li value="3">
                    <think>
                        <set var="coloract1"><map name="fcolor1"><star/></map></set>
                        <set var="coloract2"><map name="fcolor2"><star/></map></set>
                        <set var="coloract3"><map name="fcolor3"><star/></map></set>
                    </think>

                        La fruta: <star/> y sus caracteristicas son:
                            Su tamaño es: <get var="tamañoact"/>
                            Su sabor es: <get var="saboract"/>
                            <get var="vitaact"/> tiene vitamina A
                            <get var="vitbact"/> tiene vitamina B
                            <get var="vitcact"/> tiene vitamina C
                            Y puede ser de 3 colores: O <get var="coloract1"/> O <get var="coloract2"/> O <get var="coloract3"/>

                </li>
                <li> numero de colores:<get var="numcolact"/></li>
            </condition>

            <!--Comparamos con los atributos de la fruta que nos ha dicho que estaba pensando(los attact), cuando no coincida = ENGAÑO -->

                    <!-- Puedo hacer una condicion para cada atributo cuya variable sea "unknown",
                    lo cual quiere decir que no le he preguntado por ese atributo. -->
            ME HAS MENTIDO:
                si que es la que yo pienso: <get name="frutaact"/>
                y no es la que tu dices <star/>
            <condition name="tamaño">
                    <li value="unknown">No me ha hecho falta preguntarte por el tamaño</li>
                    <li value="tamañoact">Coinciden: <get name="tamaño"/></li>
                    <li>ENGAÑO EN TAMAÑO: tu contestaste <get name="tamaño"/> y <star/> es <get var="tamañoact"/></li>
            </condition>

            <condition name="sabor">
                    <li value="unknown">No me ha hecho falta preguntarte por el sabor</li>
                    <li value="saboract">Coinciden: <get name="sabor"/></li>
                    <li>ENGAÑO EN SABOR: tu contestaste <get name="sabor"/> y <star/> es <get var="saboract"/></li>
            </condition>

            <condition name="vita">
                    <li value="unknown">No me ha hecho falta preguntarte por la vitamina A</li>
                    <li value="vitaact">Coinciden: <get name="vita"/></li>
                    <li>ENGAÑO EN VITAMINA A: tu contestaste <get name="vita"/> y <star/> <get var="vitaact"/> tiene</li>
            </condition>

            <condition name="vitb">
                    <li value="unknown">No me ha hecho falta preguntarte por la vitamina B</li>
                    <li value="vitbact">Coinciden: <get name="vitb"/></li>
                    <li>ENGAÑO EN VITAMINA B: tu contestaste <get name="vitb"/> y <star/> <get var="vitbact"/> tiene</li>
            </condition>

            <condition name="vitc">
                    <li value="unknown">No me ha hecho falta preguntarte por la vitamina C</li>
                    <li value="vitcact">Coinciden: <get name="vitc"/></li>
                    <li>ENGAÑO EN VITAMINA C: tu contestaste <get name="vitc"/> y <star/> <get var="vitcact"/> tiene</li>
            </condition>

            <condition name="color">
                    <li value="unknown">No me ha hecho falta preguntarte por el color</li>
                    <li>
                        <condition var="numcolact">
                            <li value="1">
                                <condition name="color">
                                    <li value="coloract1">Coinciden: <get name="color"/></li>
                                    <li>
                        ENGAÑO EN COLOR:tu contestaste <get name="color"/> y <star/> es <get var="coloract1"/>
                                    </li>
                                </condition>
                            </li>
                            <li value="2">
                                <condition name="color">
                                    <li value="coloract1">Coinciden: <get name="color"/> <set var="colaux"><get var="coloract1"/></set></li>  <!--Guardo en colaux en que color me ha engañado-->
                                    <li value="coloract2">Coinciden: <get name="color"/> <set var="colaux"><get var="coloract2"/></set></li>
                                    <li>
                        ENGAÑO EN COLOR:tu contestaste <get name="color"/> y <star/> es <get var="colaux"/>
                                    </li>
                                </condition>
                            </li>
                            <li value="3">
                                <condition name="color">
                                    <li value="coloract1">Coinciden: <get name="color"/> <set name="colaux"><get var="coloract1"/></set></li>  <!--Guardo en colaux en que color me ha engañado-->
                                    <li value="coloract2">Coinciden: <get name="color"/> <set name="colaux"><get var="coloract2"/></set></li>
                                    <li value="coloract3">Coinciden: <get name="color"/> <set name="colaux"><get var="coloract3"/></set></li>
                                    <li>
                        ENGAÑO EN COLOR:tu contestaste <get name="color"/> y <star/> es <get var="colaux"/>
                                    </li>
                                </condition>
                            </li>
                        </condition>
                    </li>
            </condition>

<!--Podria hacer una condicion, comprobando por si acaso que no ha introducido: no, es "frutaact", en cuyo caso no me estaria engañando..-->
        Quieres volver a jugar

    </template>
</category>

-->


<!--Reglas para adivinar la fruta-->

<category>
<pattern> Adivina la fruta ^ </pattern>
<template>
    Es pequeña
</template>
</category>

<!--
<category>
    <pattern>SI</pattern>
    <that>Es *</that>
    <template> Te acerté la fruta hehehe</template>
</category>
-->


<category>
    <pattern>SI ES</pattern>
    <that>Es *</that>
    <template> Te acerté la fruta hehehe
        Quieres volver a jugar
    </template>
</category>


<category>
    <pattern>NO ES</pattern>
    <that>Es *</that>
    <template>
        <!--Guardamos y mostramos atributos verdaderos de la fruta que piensa el agente que es-->
        <think>
            <set var="tamañoact"><map name="ftamaño"><get name="frutaact"/></map></set>
            <set var="saboract"><map name="fsabor"><get name="frutaact"/></map></set>
            <set var="vitaact"><map name="fvitaminaa"><get name="frutaact"/></map></set>
            <set var="vitbact"><map name="fvitaminab"><get name="frutaact"/></map></set>
            <set var="vitcact"><map name="fvitaminac"><get name="frutaact"/></map></set>
            <set var="vitcact"><map name="fvitaminac"><get name="frutaact"/></map></set>
            <set var="numcolact"><map name="numfcolor"><get name="frutaact"/></map></set>
        </think>

            <condition var="numcolact">
                <li value="1">
                    <think>
                        <set var="coloract1"><map name="fcolor1"><get name="frutaact"/></map></set>
                    </think>

                    La fruta actual es <get name="frutaact"/> y sus caracteristicas son:
                            Su tamaño es: <get var="tamañoact"/>
                            Su sabor es: <get var="saboract"/>
                            <get var="vitaact"/> tiene vitamina A
                            <get var="vitbact"/> tiene vitamina B
                            <get var="vitcact"/> tiene vitamina C
                            Y su color es: <get var="coloract1"/>

                </li>
                <li value="2">
                    <think>
                        <set var="coloract1"><map name="fcolor1"><get name="frutaact"/></map></set>
                        <set var="coloract2"><map name="fcolor2"><get name="frutaact"/></map></set>
                    </think>

                        La fruta actual es <get name="frutaact"/> y sus caracteristicas son:
                            Su tamaño es: <get var="tamañoact"/>
                            Su sabor es: <get var="saboract"/>
                            <get var="vitaact"/> tiene vitamina A
                            <get var="vitbact"/> tiene vitamina B
                            <get var="vitcact"/> tiene vitamina C
                            Y puede ser de 2 colores: O <get var="coloract1"/> O <get var="coloract2"/>

                </li>
                <li value="3">
                    <think>
                        <set var="coloract1"><map name="fcolor1"><get name="frutaact"/></map></set>
                        <set var="coloract2"><map name="fcolor2"><get name="frutaact"/></map></set>
                        <set var="coloract3"><map name="fcolor3"><get name="frutaact"/></map></set>
                    </think>

                        La fruta actual es <get v="frutaact"/> y sus caracteristicas son:
                            Su tamaño es: <get var="tamañoact"/>
                            Su sabor es: <get var="saboract"/>
                            <get var="vitaact"/> tiene vitamina A
                            <get var="vitbact"/> tiene vitamina B
                            <get var="vitcact"/> tiene vitamina C
                            Y puede ser de 3 colores: O <get var="coloract1"/> O <get var="coloract2"/> O <get var="coloract3"/>

                </li>
                <li> numero de colores:<get var="numcolact"/></li>
            </condition>

            <!--Mostramos los atributos que nos ha dicho el usuario-->

            Y tu me has dicho que:
                Su tamaño es: <get name="tamaño"/>
                Su sabor es: <condition name="sabor">
                                <li value="acido">Acido</li>
                                <li value="semiacido">Semiacido</li>
                                <li value="neutro">Neutro</li>
                                <li value="acido">Dulce</li>
                                <li>No me ha hecho falta preguntarte por el sabor</li>
                            </condition>
                <condition name="vita">
                    <li value="si">Tiene vitamina A</li>
                    <li value="no">No tiene vitamina A</li>
                    <li>No me ha hecho falta preguntarte por vitamina A</li>
                </condition>
                <condition name="vitb">
                    <li value="si">Tiene vitamina B</li>
                    <li value="no">No tiene vitamina B</li>
                    <li>No me ha hecho falta preguntarte por vitamina B</li>
                </condition>
                <condition name="vitc">
                    <li value="si">Tiene vitamina C</li>
                    <li value="no">No tiene vitamina C</li>
                    <li>No me ha hecho falta preguntarte por vitamina C</li>
                </condition>
                <condition name="color"><!--incluir colores que faltan-->
                    <li value="verde">Es de color verde</li>
                    <li value="amarillo">Es de color amarillo</li>
                    <li value="morado">Es de color morado</li>
                    <li value="marron">Es de color marron</li>
                    <li>No me ha hecho falta preguntarte por el color</li>
                </condition>

        Me estás engañando, si que es el <get name="frutaact"/>
        Quieres volver a jugar

    </template>
</category>

<category>
    <pattern>SI</pattern>
    <that> * quieres volver a jugar</that>
    <template>
        <srai>adivina la fruta</srai>
    </template>
</category>

<category>
    <pattern>NO</pattern>
    <that> * quieres volver a jugar</that>
    <template>
        HASTA PRONTO!(Pulsa q+enter para salir)
    </template>
</category>


<!--Pequeña-->
<category>
    <pattern>SI</pattern>
    <that>Es pequeña</that>
    <template>
        <think>
            <set name="tamaño">pequeño</set>
        </think>
        Tiene vitamina A
    </template>
</category>


<!--Si no es pequeña, pregunto si es grande-->

<category>
    <pattern>NO</pattern>
    <that>Es pequeña</that>
    <template>
        Es grande
    </template>
</category>


<!--Pequeña, vitamina a -->
<category>
    <pattern>SI</pattern>
    <that>Tiene vitamina A</that>
    <template>
        <think>
            <set name="vita">si</set>
        </think>
        Es morada
    </template>
</category>

<!--Pequeña, vitamina a, color(morado) -->

<category>
    <pattern>SI</pattern>
    <that>Es morada</that>
    <template>
        <think>
            <set name="color">morado</set>
        </think>
        Es Ciruela
        <think>
            <set name="frutaact">ciruela</set>  <!--varglobal: la que el agente ha pensado que es la correcta-->
        </think>
    </template>
</category>

<!--Pequeña, vitamina a, no vitamina b -->

<category>
    <pattern>NO</pattern>
    <that>Es morada</that>
    <template>
        <think>
            <set name="color">naranja</set>
        </think>
        Es Mandarina
        <think>
            <set name="frutaact">mandarina</set>  <!--varglobal: la que el agente ha pensado que es la correcta-->
        </think>
    </template>
</category>

<!--Pequeña, no vitamina a-->

<category>
    <pattern>NO</pattern>
    <that>Tiene vitamina A</that>
    <template>
        <think>
            <set name="vita">no</set>
        </think>
        Tiene vitamina B
    </template>
</category>

<!--Pequeña, no vitamina a, vitamina b-->

<category>
    <pattern>SI</pattern>
    <that>Tiene vitamina B</that>
    <template>
        <think>
            <set name="vitb">si</set>
        </think>
        Es Nuez
        <think>
            <set name="frutaact">nuez</set>  <!--varglobal: la que el agente ha pensado que es la correcta-->
        </think>
    </template>
</category>

<!--Pequeña, no vitamina a, no vitamina b-->

<category>
    <pattern>NO</pattern>
    <that>Tiene vitamina B</that>
    <template>
        <think>
            <set name="vitb">no</set>
        </think>
        Es Kiwi
        <think>
            <set name="frutaact">kiwi</set>  <!--varglobal: la que el agente ha pensado que es la correcta-->
        </think>
    </template>
</category>


<!--Grande-->

<category>
    <pattern>SI</pattern>
    <that>Es grande</that>
    <template>
        <think>
            <set name="tamaño">grande</set>
        </think>
        Es marron
    </template>
</category>

<!--Grande, color(marron)-->

<category>
    <pattern>SI</pattern>
    <that>Es marron</that>
    <template>
        <think>
            <set name="color">marron</set>
        </think>
        Es Coco
        <think>
            <set name="frutaact">coco</set>  <!--varglobal: la que el agente ha pensado que es la correcta-->
        </think>
    </template>
</category>

<!--Grande, no color(marron)-->

<category>
    <pattern>NO</pattern>
    <that>Es marron</that>
    <template>
        Es amarillo
    </template>
</category>

<!--Grande, no color(marron), color(amarillo)-->

<category>
    <pattern>SI</pattern>
    <that>Es amarillo</that>
    <template>
        <think>
            <set name="color">amarillo</set>
        </think>
        Es Piña
        <think>
            <set name="frutaact">piña</set>  <!--varglobal: la que el agente ha pensado que es la correcta-->
        </think>
    </template>
</category>

<!--Grande, no vitamina a, no color(amarillo)-->

<category>
    <pattern>NO</pattern>
    <that>Es amarillo</that>
    <template>
        <think>
            <set name="color">verde</set>
        </think>
        Es Mango
        <think>
            <set name="frutaact">mango</set>  <!--varglobal: la que el agente ha pensado que es la correcta-->
        </think>
    </template>
</category>


<!--Si no es grande, es mediana (no lo pregunto)-->

<category>
    <pattern>NO</pattern>
    <that>Es grande</that>
    <template>
        <think>
            <set name="tamaño">mediano</set>
        </think>
        Tiene vitamina C
    </template>
</category>

<!--Mediana, no vitamina c-->

<category>
    <pattern>NO</pattern>
    <that>Tiene vitamina C</that>
    <template>
        <think>
            <set name="vitac">no</set>
        </think>
        Es Melocoton
        <think>
            <set name="frutaact">melocoton</set>  <!--varglobal: la que el agente ha pensado que es la correcta-->
        </think>
    </template>
</category>


<!--Mediana, vitamina c-->

<category>
    <pattern>SI</pattern>
    <that>Tiene vitamina C</that>
    <template>
        <think>
            <set name="vitac">si</set>
        </think>
        Es dulce
    </template>
</category>


<!--Mediana, vitamina c, sabor(dulce)-->

<category>
    <pattern>SI</pattern>
    <that>Es dulce</that>
    <template>
        <think>
            <set name="sabor">dulce</set>
        </think>
        Es verde
    </template>
</category>

<!--Mediana, vitamina c, sabor(dulce), color(verde)-->

<category>
    <pattern>SI</pattern>
    <that>Es verde</that>
    <template>
        <think>
            <set name="color1">verde</set>
        </think>
        Es Pera
        <think>
            <set name="frutaact">pera</set>  <!--varglobal: la que el agente ha pensado que es la correcta-->
        </think>
    </template>
</category>

<!--Mediana, vitamina c, sabor(dulce), color(no verde)-->

<category>
    <pattern>NO</pattern>
    <that>Es verde</that>
    <template>
        <think>
            <set name="color1">amarillo</set>
        </think>
        Es Platano
        <think>
            <set name="frutaact">platano</set>  <!--varglobal: la que el agente ha pensado que es la correcta-->
        </think>
    </template>
</category>

<!--Mediana, vitamina c, sabor(no dulce)-->

<category>
    <pattern>NO</pattern>
    <that>Es dulce</that>
    <template>
        Es semiacido
    </template>
</category>

<!--Mediana, vitamina c, sabor(no dulce), sabor(semiacido)-->

<category>
    <pattern>SI</pattern>
    <that>Es semiacido</that>
    <template>
        <think>
            <set name="sabor">semiacido</set>
        </think>
        Es Manzana
        <think>
            <set name="frutaact">manzana</set>  <!--varglobal: la que el agente ha pensado que es la correcta-->
        </think>
    </template>
</category>

<!--Mediana, vitamina c, sabor(no dulce), sabor(no semiacido)-->

<category>
    <pattern>NO</pattern>
    <that>Es semiacido</that>
    <template>
        Es acido
    </template>
</category>


<!--Mediana, vitamina c, sabor(no dulce), sabor(semiacido), sabor(acido)-->

<category>
    <pattern>SI</pattern>
    <that>Es acido</that>
    <template>
        <think>
            <set name="sabor">acido</set>
        </think>
        Es Naranja
        <think>
            <set name="frutaact">naranja</set>  <!--varglobal: la que el agente ha pensado que es la correcta-->
        </think>
    </template>
</category>


<!--Mediana, vitamina c, sabor(no dulce), sabor(semiacido), sabor(no acido)-->

<category>
    <pattern>NO</pattern>
    <that>Es acido</that>
    <template>
        <think>
            <set name="sabor">neutro</set>
        </think>
        Es Aguacate
        <think>
            <set name="frutaact">aguacate</set>  <!--varglobal: la que el agente ha pensado que es la correcta-->
        </think>
    </template>
</category>


















</aiml>
